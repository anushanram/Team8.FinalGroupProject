<html>
  <head>
    <title>D.P. Team-8</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      // Load data
      const tdata = JSON.parse({{ tempdata|tojson|safe }});
      make = tdata.make;
      condition = tdata.condition;
      type = tdata.type
      // console.log(condition);

      // Load Charts and the corechart and barchart packages.
      google.charts.load('current', {'packages':['corechart']});

      // Draw the pie chart and bar chart when Charts is loaded.
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        // for car make data
        var make_data = new google.visualization.DataTable();
        make_data.addColumn('string', 'Make');
        make_data.addColumn('number', 'Count');
        make_data.addRows(make);

        // for car condition data
        var condition_data = new google.visualization.DataTable();
        condition_data.addColumn('string', 'Make');
        condition_data.addColumn('number', 'Count');
        condition_data.addRows(condition);

        var piechart_options = {title: type + ': Car Count by Make',
                       width:600,
                       height:600};
        var piechart = new google.visualization.PieChart(document.getElementById('piechart_div'));
        piechart.draw(make_data, piechart_options);

        var barchart_options = {title: type + ': Car Count by Car Condition',
                       width:600,
                       height:600,
                       legend: 'none'};
        var barchart = new google.visualization.BarChart(document.getElementById('barchart_div'));
        barchart.draw(condition_data, barchart_options);
      }
    </script>
  </head>
<body>
  <h3 class="display-3">Report on cars.com</h3>
  <div class="h-100 d-flex align-items-center justify-content-center">
    <div class="row">
        <div class="col">
            <div id="piechart_div" style="border: 1px solid #ccc"></div>
        </div>
        <div class="col">
            <div id="barchart_div" style="border: 1px solid #ccc"></div>
        </div>
    </div>
</div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>
</html>
